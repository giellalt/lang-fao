## Process this file with automake to produce Makefile.in

## Copyright (C) 2011 Samediggi

## This program is free software: you can redistribute it and/or modify
## it under the terms of the GNU General Public License as published by
## the Free Software Foundation, either version 3 of the License, or
## (at your option) any later version.

## This program is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU General Public License for more details.

## You should have received a copy of the GNU General Public License
## along with this program.  If not, see <http://www.gnu.org/licenses/>.

# need to check way to list build targets like automake
#! @param GT_REGEX_SRCS required, list all regular expressions used
EXTRA_DIST=$(GT_REGEX_SRCS)
# @param GT_REGEX_TARGETS required
noinst_DATA=$(GT_REGEX_TARGETS)

# other twolc targets should be built by suffix rules;
# just list them in some nice automake targets and you're good to go
%.hfst: %.regex
	$(HREGEX) $(HFSTFLAGS) -o $@ -i $<

# foma needs a script to read regex file
%.foma: %.regex
	printf "read regex @\"$<\"\nsave stack $@" | $(XFST) $(XFSTFLAGS)

# xfst needs a script to read regex file
%.xfst: %.regex
	printf "read regex @\"$<\"\nsave stack $@" | $(XFST) $(XFSTFLAGS)

clean-local:
	-rm -f *.hfst *.ol

# vim: set ft=automake:
